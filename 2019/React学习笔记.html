<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React学习笔记 | Harry&#39;s Blog</title>
    <meta name="description" content="Just playing around">
    
    
    <link rel="preload" href="/assets/css/0.styles.b22da6e1.css" as="style"><link rel="preload" href="/assets/js/app.2a8b26b7.js" as="script"><link rel="preload" href="/assets/js/2.2d84e052.js" as="script"><link rel="preload" href="/assets/js/13.8cadead6.js" as="script"><link rel="prefetch" href="/assets/js/10.2e550869.js"><link rel="prefetch" href="/assets/js/11.6eb170d5.js"><link rel="prefetch" href="/assets/js/12.e0656fdf.js"><link rel="prefetch" href="/assets/js/14.89ebfb0d.js"><link rel="prefetch" href="/assets/js/15.22c38943.js"><link rel="prefetch" href="/assets/js/16.7f5581ae.js"><link rel="prefetch" href="/assets/js/17.e968d3d6.js"><link rel="prefetch" href="/assets/js/18.8ba46c78.js"><link rel="prefetch" href="/assets/js/19.694ab0cb.js"><link rel="prefetch" href="/assets/js/20.30f4aa03.js"><link rel="prefetch" href="/assets/js/21.4f3055a2.js"><link rel="prefetch" href="/assets/js/22.b37386a2.js"><link rel="prefetch" href="/assets/js/23.dc3d4f33.js"><link rel="prefetch" href="/assets/js/24.736d7492.js"><link rel="prefetch" href="/assets/js/25.505b753d.js"><link rel="prefetch" href="/assets/js/26.f063405f.js"><link rel="prefetch" href="/assets/js/27.940e6c10.js"><link rel="prefetch" href="/assets/js/28.c698b4da.js"><link rel="prefetch" href="/assets/js/29.40d7b133.js"><link rel="prefetch" href="/assets/js/3.03931b32.js"><link rel="prefetch" href="/assets/js/30.aacaa9e2.js"><link rel="prefetch" href="/assets/js/31.c5eac6b2.js"><link rel="prefetch" href="/assets/js/32.959d9e3e.js"><link rel="prefetch" href="/assets/js/33.ff426d1c.js"><link rel="prefetch" href="/assets/js/34.500e9e92.js"><link rel="prefetch" href="/assets/js/35.4482163a.js"><link rel="prefetch" href="/assets/js/36.1733f9ec.js"><link rel="prefetch" href="/assets/js/37.c1415a62.js"><link rel="prefetch" href="/assets/js/38.431900dc.js"><link rel="prefetch" href="/assets/js/39.eac11275.js"><link rel="prefetch" href="/assets/js/4.72ea0f50.js"><link rel="prefetch" href="/assets/js/40.de76e27c.js"><link rel="prefetch" href="/assets/js/41.a9bb2f8e.js"><link rel="prefetch" href="/assets/js/42.80208a1f.js"><link rel="prefetch" href="/assets/js/43.600007d9.js"><link rel="prefetch" href="/assets/js/44.d0d59430.js"><link rel="prefetch" href="/assets/js/45.dafc7cc9.js"><link rel="prefetch" href="/assets/js/46.d63287d2.js"><link rel="prefetch" href="/assets/js/47.c3ea7da0.js"><link rel="prefetch" href="/assets/js/48.d778bfdf.js"><link rel="prefetch" href="/assets/js/49.40d601bb.js"><link rel="prefetch" href="/assets/js/5.bcc51532.js"><link rel="prefetch" href="/assets/js/50.09e385ad.js"><link rel="prefetch" href="/assets/js/6.70e386b3.js"><link rel="prefetch" href="/assets/js/7.08ad3b78.js"><link rel="prefetch" href="/assets/js/8.e499b985.js"><link rel="prefetch" href="/assets/js/9.406ccb09.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b22da6e1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Harry's Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>2020年博客</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>js忍者秘籍读书笔记</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>python基础学习</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>javascript设计模式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>过去的博客</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/2019/10个前端面试必会题.html" class="sidebar-link">10个前端面试必会题目！（适用于中高级）</a></li><li><a href="/2019/201901面试题分享.html" class="sidebar-link">201901面试题分享</a></li><li><a href="/2019/常用的一些git命令行.html" class="sidebar-link">常用的一些git命令行</a></li><li><a href="/2019/发布流程.html" class="sidebar-link">发布流程</a></li><li><a href="/2019/函数节流与防抖.html" class="sidebar-link">函数节流与防抖</a></li><li><a href="/2019/函数柯里化.html" class="sidebar-link">函数柯里化（curry)</a></li><li><a href="/2019/函数声明VS函数表达式.html" class="sidebar-link">函数声明？函数表达式？我该怎么选？！</a></li><li><a href="/2019/看懂js中this关键字的指向问题.html" class="sidebar-link">看懂js中this关键字的指向问题</a></li><li><a href="/2019/浏览器缓存的了解.html" class="sidebar-link">浏览器缓存的了解</a></li><li><a href="/2019/前端进阶学习路径.html" class="sidebar-link">前端进阶学习路径</a></li><li><a href="/2019/前端知识点190111.html" class="sidebar-link">前端知识点1901</a></li><li><a href="/2019/强制缓存（200）和协商缓存（304）.html" class="sidebar-link">强制缓存（200）和协商缓存（304）</a></li><li><a href="/2019/如何理解es6中的class以及class中的constructor函数.html" class="sidebar-link">如何理解es6中的class以及class中的constructor函数</a></li><li><a href="/2019/如何让小孩学习javascript.html" class="sidebar-link">如何让小孩学习javascript</a></li><li><a href="/2019/十分钟了解ajax.html" class="sidebar-link">十分钟了解ajax</a></li><li><a href="/2019/是时候谈谈JavaScript面向对象了.html" class="sidebar-link">是时候谈谈JavaScript面向对象了</a></li><li><a href="/2019/手把手教你实现脚手架工具Koa-generator.html" class="sidebar-link">手把手教你实现脚手架工具Koa-generator</a></li><li><a href="/2019/HTTP请求的四种方式区别.html" class="sidebar-link">HTTP请求的四种方式区别</a></li><li><a href="/2019/javascript-闭包.html" class="sidebar-link">javascript-闭包</a></li><li><a href="/2019/Javascript常见的内存泄漏.html" class="sidebar-link">Javascript常见的内存泄漏</a></li><li><a href="/2019/javascript跨域.html" class="sidebar-link">javascript跨域</a></li><li><a href="/2019/JavaScript执行环境-执行栈.html" class="sidebar-link">JavaScript执行环境-执行栈</a></li><li><a href="/2019/MySQL8-0-12-secure-file-priv数据导出问题解决.html" class="sidebar-link">MySQL8.0.12--secure-file-priv数据导出问题解决</a></li><li><a href="/2019/React_V16入门手册.html" class="sidebar-link">React_V16入门手册</a></li><li><a href="/2019/react16配置.html" class="sidebar-link">/2019/react16配置.html</a></li><li><a href="/2019/react生命周期.html" class="sidebar-link">react生命周期</a></li><li><a href="/2019/React虚拟dom和diff算法.html" class="sidebar-link">React虚拟dom和diff算法</a></li><li><a href="/2019/React学习笔记.html" class="active sidebar-link">React学习笔记</a></li><li><a href="/2019/Vue使用踩坑记录.html" class="sidebar-link">Vue使用踩坑记录</a></li><li><a href="/2019/vue中AsyncAwait的使用示例.html" class="sidebar-link">vue中AsyncAwait的使用示例</a></li><li><a href="/2019/webpack下build报错.html" class="sidebar-link">webpack下build报错</a></li><li><a href="/2019/zabbix平台搭建.html" class="sidebar-link">zabbix平台搭建</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>others</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><ol><li><p>React是一种  声明式   高效 灵活 构建用户界面的框架</p></li> <li><p>组件 ：React.Component{}</p></li> <li><p>组件是接受 名为 props的参数 {this.props.name}， 即 当前组件被应用时， 传入的各个数据，包括事件等；</p></li></ol> <p>4.render返回的是一个React元素 ：渲染内容的描述   一般使用JSX语法来扩展  ： </p><div></div> -----&gt; React.createElement(&quot;div&quot;)<p></p> <p>5.通过 <ShoppingList></ShoppingList> 这样的标签你就可以在 React 当中调用整个 ShoppingList 组件</p> <ol start="6"><li><p>添加样式用  className = &quot;aaaa&quot;,  事件： onClick={ () =&gt; alert(&quot;click&quot;)}</p></li> <li><p>this.state 为自身设置自身的状态数据，  存储变化的数据</p></li> <li><p>this.setState 用于设置 值 ，每次触发时都会开始准备更新组件 跟随数据改变了的内容。</p></li></ol> <p>状态提升：</p> <ol start="9"><li><p>子组件的state数据提升至共同的 父组件 中保存。然后 父组件 通过Props  将 状态 数据传递到子组件中     ------&gt;  方便状态数据共享交流</p></li> <li><p>key React当中使用的一种特殊的属性，(以及ref属性)，无法通过props获取到key，React会自动判断元素更新时使用key，而组件自己无法获取到key的。
组件key值被改变就会被当作新创建的组件处理。
组件的 keys 值并不需要在全局都保证唯一，只需要在当前的节点里保证唯一即可</p></li></ol> <p>二.Redux
概念：
（1）Web 应用是一个状态机，视图与状态是一一对应的。</p> <p>（2）所有的状态，保存在一个对象里面。</p> <p>Store:
保存数据的地方，看成一个容器， 整个应用只能有一个store</p> <p>提供的方法函数： createStore，用于生成store，接受了另一个函数参数，返回新生成的store对象
例：import { createStore } from 'redux';
const store = createStore(fn);
State：
时点的数据集合叫做 State， 如，当前时刻的 State，通过 store.getState() 拿到
import { createStore } from 'redux';
const store = createStore(fn);
const state = store.getState();
Redux 规定， 一个 State 对应一个 View。只要 State 相同，View 就相同。你知道 State，就知道 View 是什么样，反之亦然。</p> <p>Action：
Action 就是 View 发出的通知，表示 State 应该要发生变化了
Action 是一个对象。其中的type属性是必须的。表示Action 的名称。其他属性可以自由设置，
const action = {
type: 'ADD_TODO',
payload: 'Learn Redux'
};
可以这样理解，Action 描述当前发生的事情。改变 State 的唯一办法，就是使用 Action。它会运送数据到 Store。</p> <p>Action Creator:
View 要发送多少种消息，就会有多少种 Action。如果都手写，会很麻烦。可以定义一个函数来生成 Action，这个函数就叫 Action Creator。</p> <p>例：
const ADD_TODO = '添加 TODO';</p> <p>function addTodo(text) {
return {
type: ADD_TODO,
text
}
}</p> <p>const action =addTodo('Learn Redux');</p> <p>store.dispatch()：</p> <p>store.dispatch()是 View 发出 Action 的唯一方法。
store.dispatch接受一个 Action 对象作为参数，将它发送出去
store.dispatch(addTodo('Learn Redux'));</p> <p>Reducer：
Store 收到 Action 以后，必须给出一个新的 State，这样 View 才会发生变化。这种 State 的计算过程就叫做 Reducer。
例：</p> <p>const defaultState = 0;
const reducer = (state = defaultState, action) =&gt; {
switch (action.type) {
case 'ADD':
return state + action.payload;
default:
return state;
}};</p> <p>const state = reducer(1, {
type: 'ADD',
payload: 2});</p> <p>createStore接受 Reducer 作为参数，生成一个新的 Store。以后每当store.dispatch发送过来一个新的 Action，就会自动调用 Reducer，得到新的 State。
例：</p> <p>const actions = [
{ type: 'ADD', payload: 0 },
{ type: 'ADD', payload: 1 },
{ type: 'ADD', payload: 2 }];</p> <p>const total = actions.reduce(reducer, 0); // 3</p> <p>纯函数： 只要是同样的输入，必定得到同样的输出。</p> <p>store.subscribe()：
方法设置监听函数，一旦 State 发生变化，就自动执行这个函数。
例：</p> <p>import { createStore } from 'redux';
const store = createStore(reducer);</p> <p>store.subscribe(listener);</p> <p>只要把 View 的更新函数（对于 React 项目，就是组件的render方法或setState方法）放入listen，就会实现 View 的自动渲染。
store.subscribe方法返回一个函数，调用这个函数就可以解除监听。</p> <p>Reducer 的拆分：
combinReducers:用于 Reducer 的拆分。你只要定义各个子 Reducer 函数，然后用这个方法，将它们合成一个大的 Reducer。
例：</p> <p>import { combineReducers } from 'redux';</p> <p>const chatReducer = combineReducers({
chatLog,
statusMessage,
userName
})</p> <p>export default todoApp;
State 的属性名必须与子 Reducer 同名</p> <p>不同名的写法：</p> <p>const reducer = combineReducers({
a: doSomethingWithA,
b: processB,
c: c
})
// 等同于
function reducer(state = {}, action) {
return {
a: doSomethingWithA(state.a, action),
b: processB(state.b, action),
c: c(state.c, action)
}}</p> <p>可以把所有子 Reducer 放在一个文件里面，然后统一引入。</p> <p>import { combineReducers } from 'redux'
import * as reducers from './reducers'</p> <p>const reducer = combineReducers(reducers)</p> <p>Redux流程：
1.用户发出Action--&gt; stroe.dispatch(action);
2.store自动调用Reducer,传入（当前state，action），返回新的State。
例： let nextState = todoApp（previousState，action）；</p> <p>3.state发生变化，store会调用监听函数。：</p> <p>例：stroe.subscribe(listener);</p> <p>listener可以通过 store.getStore() 得到当前状态，react此时会触发重新渲染view；</p> <p>例：</p> <p>function listerner() {
let newState = store.getState();
component.setState(newState);<br>
}</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/2019/React虚拟dom和diff算法.html" class="prev">React虚拟dom和diff算法</a></span> <span class="next"><a href="/2019/Vue使用踩坑记录.html">Vue使用踩坑记录</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.2a8b26b7.js" defer></script><script src="/assets/js/2.2d84e052.js" defer></script><script src="/assets/js/13.8cadead6.js" defer></script>
  </body>
</html>
